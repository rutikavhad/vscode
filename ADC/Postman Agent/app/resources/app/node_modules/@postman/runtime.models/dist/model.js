"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.model = model;
exports.assertType = assertType;
exports.invalid = invalid;
function model(Schema, extensions = {}) {
    const validate = (input) => {
        const result = Schema['~standard'].validate(input);
        return result.issues ? { issues: result.issues } : { value: result.value };
    };
    return {
        ...extensions,
        parse(input) {
            const result = validate(input);
            if (result.issues) {
                throw invalid(result);
            }
            return result.value;
        },
        is(value) {
            return !validate(value).issues;
        },
        validate,
        ['~standard']: Schema['~standard'],
        _zod: Schema._zod,
    };
}
/**
 * Assert that the given input is a valid value for the given model,
 * throwing an error if invalid
 */
function assertType(model, input) {
    const result = model.validate(input);
    if (result.issues) {
        throw invalid(result);
    }
}
function invalid({ issues, }) {
    const error = new Error('Invalid input for model');
    error.issues = issues;
    return error;
}
//# sourceMappingURL=model.js.map