import { GraphQLRequest, HTTPRequest, KeyValues } from '@postman/runtime.models';
export type GraphQLProtocol = 'http' | 'websocket' | 'sse';
export type GraphQLOperationType = 'query' | 'mutation' | 'subscription';
export declare namespace GraphQLEvent {
    /**
     * The initiating GraphQL request for executing a `query`, `mutation`, or `subscription` over a specific protocol.
     *
     * - [GraphQL Spec](https://spec.graphql.org/October2021/#sec-Executing-Requests)
     * - [GraphQL over HTTP](https://graphql.github.io/graphql-over-http/)
     * - [GraphQL over WebSocket](https://github.com/enisdenjo/graphql-ws/blob/master/PROTOCOL.md)
     * - [GraphQL over Server-Sent Events](https://github.com/enisdenjo/graphql-sse/blob/master/PROTOCOL.md)
     *
     * The protocol is chosen based on the request's URL, operation type, and accept/content-type headers:
     *
     * Protocol decision tree:
     *
     * SSE:
     *
     * - Accept = text/event-stream
     * - (or) Content-Type = text/event-stream
     *
     * WebSocket:
     *
     * - Protocol = ws:/wss:
     * - (or) Operation Type = subscription
     *
     * HTTP:
     *
     * - (default)
     */
    type SendRequest = {
        type: 'graphql:send-request';
        payload: {
            query: string;
            operationName?: string;
            /**
             * JSON/JSONC string or object to use
             * (note: emitted graphql:send-request will have parsed object)
             */
            variables: string | Record<string, unknown>;
            method?: string;
            url: string;
            headers: KeyValues;
            settings: NonNullable<HTTPRequest['payload']['settings']> & NonNullable<GraphQLRequest['payload']['settings']>;
            /**
             * The operation type of the request (set at time request is sent)
             * @internal
             */
            operationType?: GraphQLOperationType;
            /**
             * The inferred protocol based on request details
             * @internal
             */
            protocol?: GraphQLProtocol;
        };
    };
    /**
     * A single GraphQL response (e.g. from the GraphQL over HTTP protocol)
     */
    type ReceivedResponse = {
        type: 'graphql:received-response';
        payload: GraphQLResponse;
    };
    /**
     * Start of a response stream for subscriptions
     *
     * - [GraphQL Spec](https://spec.graphql.org/October2021/#sec-Response-Stream)
     */
    type ReceivedResponseStreamStart = {
        type: 'graphql:received-response-stream-start';
        payload?: undefined;
    };
    /**
     * Data event of a response stream for subscriptions
     *
     * - [GraphQL Spec](https://spec.graphql.org/October2021/#sec-Response-Stream)
     */
    type ReceivedResponseStreamData = {
        type: 'graphql:received-response-stream-data';
        payload: GraphQLResponse;
    };
    /**
     * Received incremental data from @stream or @defer
     */
    type ReceivedIncrementalData = {
        type: 'graphql:received-incremental-data';
        payload: GraphQLIncrementalResponse;
    };
    /**
     * GraphQL-specific error
     */
    type Error = {
        type: 'graphql:error';
        payload: {
            error: unknown;
        };
    };
}
export type GraphQLEvent = GraphQLEvent.SendRequest | GraphQLEvent.ReceivedResponse | GraphQLEvent.ReceivedResponseStreamStart | GraphQLEvent.ReceivedResponseStreamData | GraphQLEvent.ReceivedIncrementalData | GraphQLEvent.Error;
/**
 * General GraphQL response shape with flexibility for non-compliant servers
 *
 * - [GraphQL Spec](https://spec.graphql.org/October2021/#sec-Response)
 *
 * Note: deliberately lax to allow for incompatible / non-compliant servers
 */
export interface GraphQLResponse {
    data?: unknown | null;
    errors?: GraphQLError[] | unknown | null;
    [key: string]: unknown;
}
/**
 * - [Incremental Delivery Spec Draft](https://github.com/graphql/graphql-spec/pull/1110)
 */
export interface GraphQLIncrementalResponse extends GraphQLResponse {
    hasNext?: boolean | unknown | null;
    pending?: GraphQLPendingResult[] | unknown | null;
    incremental?: GraphQLIncrementalResult[] | unknown | null;
    completed?: GraphQLCompletedResult[] | unknown | null;
}
export interface GraphQLPendingResult {
    id?: string | unknown | null;
    path?: string[] | unknown | null;
    label?: string | unknown | null;
    [key: string]: unknown;
}
export type GraphQLIncrementalResult = {
    id?: string | unknown | null;
    [key: string]: unknown;
} & (GraphQLIncrementalListResult | GraphQLIncrementalObjectResult);
export interface GraphQLIncrementalListResult {
    items?: unknown | null;
}
export interface GraphQLIncrementalObjectResult {
    subPath?: unknown | null;
    data?: unknown | null;
    errors?: unknown | null;
}
export interface GraphQLCompletedResult {
    id?: string | unknown | null;
    errors?: unknown | null;
    [key: string]: unknown;
}
export type GraphQLError = Record<string, unknown>;
