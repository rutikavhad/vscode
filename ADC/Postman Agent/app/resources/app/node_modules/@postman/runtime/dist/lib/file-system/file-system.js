"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.fs = fs;
const async_iterable_1 = require("../async-iterable");
const streams_1 = require("../streams");
const typed_array_1 = require("../typed-array");
function fs(platform) {
    return {
        async readFile(path) {
            const channel = await platform.readFile(path);
            const parts = await (0, async_iterable_1.collect)((0, streams_1.values)(channel.readable));
            return (0, typed_array_1.combineInto)(Uint8Array, parts);
        },
    };
}
//# sourceMappingURL=file-system.js.map