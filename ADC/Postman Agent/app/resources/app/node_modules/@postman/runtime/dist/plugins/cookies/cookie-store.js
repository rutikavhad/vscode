"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.normalizeCookieStore = normalizeCookieStore;
/**
 * Normalize the given store to use a Promise-based approach
 */
function normalizeCookieStore(store) {
    return {
        findCookies(domain, path, allowSpecialUseDomain) {
            return new Promise((resolve, reject) => {
                store.findCookies?.(domain, path, allowSpecialUseDomain ?? true, (error, cookies) => {
                    if (error)
                        return reject(error);
                    resolve(cookies);
                });
            });
        },
        putCookie(cookie) {
            return new Promise((resolve, reject) => {
                store.putCookie?.(cookie, (error) => {
                    if (error)
                        return reject(error);
                    resolve(undefined);
                });
            });
        },
    };
}
//# sourceMappingURL=cookie-store.js.map